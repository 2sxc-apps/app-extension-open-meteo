@inherits Custom.Hybrid.RazorTyped
@using System.Linq
@using AppCode.Extensions.OpenMeteo
@using AppCode.Extensions.OpenMeteo.Data

@{
  var forecast = Kit.Data.GetSource<OpenMeteoForecast>(
    parameters: new
    {
      Latitude = 47.3769,
      Longitude = 8.5417,
      Timezone = "auto",
      ForecastDays = 1
    }
  );

  var items = AsList<OpenMeteoResult>(forecast).Take(24).ToList();
}

<h3>Forecast - 1 day (sample @items.Count hours)</h3>

<table class="table">
  <thead>
    <tr>
      <th>Time</th>
      <th>Temp (Â°C)</th>
      <th>Wind</th>
      <th>Code</th>
      <th>Weather</th>
    </tr>
  </thead>
  <tbody>
  @foreach (var item in items)
  {
    <tr>
      <td>@item.When</td>
      <td>@item.Temperature</td>
      <td>@item.WindSpeed</td>
      <td>@item.WeatherCode</td>
      <td>@item.Weather</td>
    </tr>
  }
  </tbody>
</table>
