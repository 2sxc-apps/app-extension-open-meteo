@inherits Custom.Hybrid.RazorTyped
@using AppCode.Extensions.OpenMeteo
@using AppCode.Extensions.OpenMeteo.Data

<h3>Current Weather</h3>
@{
  // Create a data source for current weather data from OpenMeteo API
  // Parameters specify the location and timezone settings
  var currentDs = Kit.Data.GetSource<OpenMeteoCurrent>(parameters: new OpenMeteoParameters() {
    Latitude = 47.1674, // Vaduz, Liechtenstein
    Longitude = 9.4779, // Vaduz, Liechtenstein
  });

  // Use the strongly-typed model
  var current = As<OpenMeteoResult>(currentDs);
}

@* Display message if the API didn't return any weather data, then exit *@
@if (current == null)
{
  <div class="alert alert-warning">
    No data available
  </div>
  return;
}

@* Display the current weather information retrieved from the API *@
<ol>
  <li>
    <strong>When:</strong> @current.When
  </li>
  <li>
    <strong>Temperature:</strong> @current.Temperature Â°C
  </li>
  <li>
    <strong>Weather:</strong> @current.Weather
  </li>
</ol>