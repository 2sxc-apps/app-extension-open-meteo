@inherits Custom.Hybrid.RazorTyped
@using System.Linq
@using AppCode.Extensions.OpenMeteo
@using AppCode.Extensions.OpenMeteo.Data

<h3>Current Weather</h3>
@{
  // Create a data source for current weather data from OpenMeteo API
  // Parameters specify the location and timezone settings
  var currentDs = Kit.Data.GetSource<OpenMeteoCurrent>(parameters: new {
    Latitude = 47.1674,   // Latitude of the location
    Longitude = 9.4779,   // Longitude of the location
    Timezone = "auto"     // Use timezone of coordinates
  });

  // Use the strongly-typed model
  var current = As<OpenMeteoResult>(currentDs);
}

@if (current == null)
{
  // Display message if the API didn't return any weather data
  <p>No data</p>
}
else
{
  // Display the current weather information retrieved from the API
  <p><strong>Time:</strong> @current.When</p>
  <p><strong>Temperature:</strong> @current.Temperature Â°C</p>
  <p><strong>Weather:</strong> @current.Weather</p>
}